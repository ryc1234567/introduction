<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>x - HTML æ‰˜ç®¡å™¨</title>
<style>
body {
  font-family: Arial;
  margin: 20px;
}
textarea {
  width: 100%;
  height: 200px;
}
input {
  width: 300px;
}
iframe {
  width: 100%;
  height: 400px;
  border: 1px solid #aaa;
}
</style>
</head>
<body>

<h2>ğŸ“„ å»ºç«‹ç½‘å€</h2>
ç½‘å€å­—ç¬¦ä¸²ï¼š
<input id="name"><br><br>

HTML ä»£ç ï¼š
<textarea id="code"></textarea><br>

<button onclick="save()">å»ºç«‹ / è¦†ç›–</button>

<hr>

<h2>ğŸ” æŸ¥çœ‹ç½‘å€</h2>
<input id="view">
<button onclick="openPage()">æŸ¥çœ‹</button>

<hr>

<h2>â–¶ è¿è¡Œç»“æœ</h2>
<iframe id="frame"></iframe>

<script>
function save() {
  const name = document.getElementById("name").value.trim();
  const code = document.getElementById("code").value;
  if (!name) return alert("è¯·è¾“å…¥ç½‘å€å­—ç¬¦ä¸²");

  localStorage.setItem("page_" + name, code);
  alert("å·²å»ºç«‹ï¼šx/#/" + name);
}

function openPage() {
  const s = document.getElementById("view").value.trim();
  location.hash = "/" + s;
  load();
}

function load() {
  const key = location.hash.replace("#/", "");
  if (!key) return;

  const code = localStorage.getItem("page_" + key);
  if (!code) {
    document.getElementById("frame").srcdoc =
      "<h1>404</h1><p>ä¸å­˜åœ¨çš„é¡µé¢</p>";
    return;
  }
  document.getElementById("frame").srcdoc = code;
}

window.addEventListener("hashchange", load);
load();
</script>

</body>
</html>
